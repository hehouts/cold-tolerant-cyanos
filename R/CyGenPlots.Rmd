---
title: "CyGenPlots"
output: html_document
---
```{r libraries}
library(tidyverse)
```

```{r load-data}
df_from_anvi = read_tsv("/Users/hehouts/projects/cold-tolerant-cyanos/outputs/gene-hits/gene_hit_matrix_output.tsv")
colnames(df_from_anvi)
```

```{r}
df_from_anvi_melt = reshape2::melt(df_from_anvi) %>% rename("Genome"="genome_or_bin") %>% rename("Gene"="variable") %>% rename("Gene_Count"="value")
```



```{r plot-libraries}
#install.packages("viridis")
library(viridis)

library(tidyverse)
```

```{r}


### these are not needed, because they are notw loaded in in the same .Rmd that they are used in 
#df = read_tsv("/Users/hehouts/projects/cold-tolerant-cyanos/outputs/gene-hits/gene_hit_matrix_output.tsv")
#df_og = read_tsv("/Users/kaylahmarcello/Desktop/sumner_lab/cold-tolerant-cyanos/outputs/gene-hits/gene_hit_matrix_output.tsv")
#df_og = read_tsv("/Users/hehouts/projects/cold-tolerant-cyanos/outputs/gene-hits/gene_hit_matrix_output.tsv")


#df_og = df_og%>% rename("Genome"="genome_or_bin")

df_og = df_from_anvi


#file_basename_to_orgname_df = read_csv("/Users/hehouts/projects/cold-tolerant-cyanos/R/genome-filename-to-basename.csv")
file_basename_to_orgname_df = read_csv("/Users/kaylahmarcello/Desktop/sumner_lab/cold-tolerant-cyanos/R/anvio-filename-organismname.csv")
file_basename_to_orgname_df = file_basename_to_orgname_df %>% select(`Base Name`, `Organism Name`, `Temp`) %>% rename(Name = `Organism Name`)

df = left_join(df_og,file_basename_to_orgname_df, by = c("Genome" = "Base Name")) %>% select(!Genome) %>% relocate("Name") %>% rename (Genome = "Name")


df_melt = reshape2::melt(df) %>% rename("Gene"="variable") %>% rename("Gene_Count"="value") %>%  mutate(Gene_Count = as.factor(Gene_Count))

df_melt = reshape2::melt(df) %>% rename("Gene"="variable") %>% rename("Gene_Count"="value") %>%  mutate(Gene_Count = as.factor(Gene_Count))



```
